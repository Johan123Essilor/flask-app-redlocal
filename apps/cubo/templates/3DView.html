<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Caja 3D Interactiva</title>

  </style>
</head>
<body>
  <header>
    <h1>Caja 3D Interactiva</h1>
    <div class="buttons">
      <button onclick="setSize('small')">Pequeña</button>
      <button onclick="setSize('medium')">Mediana</button>
      <button onclick="setSize('large')">Grande</button>
    </div>
  </header>

  <main>
    <div class="container" id="cube"></div>
  </main>

  <script>
    const cube = document.getElementById('cube');
    let isDragging = false;
    let prevX, prevY;
    let rotX = -10, rotY = 20;

    let dimensions = {
      small: { w: 200, h: 100, d: 100, z: 50},
      medium: { w: 300, h: 200, d: 150 },
      large: { w: 500, h: 300, d: 300 }
    };

    let currentSize = 'medium';

    function setSize(size) {
      currentSize = size;
      const { w, h, d, z } = dimensions[size];

      cube.style.width = w + 'px';
      cube.style.height = h + 'px';

      cube.innerHTML = `
        <div class="face front" style="width:${w}px; height:${h}px; transform: translateZ(${d/2}px); background-image:url('img/Caja.jpg')">Frontal</div>
        <div class="face back" style="width:${w}px; height:${h}px; transform: rotateY(180deg) translateZ(${d / 2}px); background-image:url('../static/img/lados.jpg')">Posterior</div>
        <div class="face right" style="width:${d}px; height:${h}px; transform: rotateY(90deg) translateZ(${w / 2}px); background-image:url('../img/lados.jpg')">Derecha</div>
        <div class="face left" style="width:${d}px; height:${h}px; transform: rotateY(-90deg) translateZ(${w / 2}px); background-image:url('../img/lados.jpg')">Izquierda</div>
        <div class="face top" style="width:${w}px; height:${d}px; transform: rotateX(90deg) translateZ(${h / 2}px); background-image:url('../img/lados.jpg')">Arriba</div>
        <div class="face bottom" style="width:${w}px; height:${d}px; transform: rotateX(-90deg) translateZ(${h / 2}px); background-image:url('../img/lados.jpg')">Abajo</div>
      `;

      // Puedes agregar aquí múltiples caras extra si lo deseas
      addExtraFaceUCC({
        reference: 'front',
        offset: 30,
        width: 100,
        height: 100
      });
      addExtraFaceUCC({
        reference: 'top',
        offset: 30,
        width: 100,
        height: 20
      });
    }

    function addExtraFaceUCC({ reference = 'front', offset = 20, width = 100, height = 100 }) {
      const { w, h, d } = dimensions[currentSize];

      const extra = document.createElement('div');
      extra.className = 'face';
      extra.style.background = 'white';
      extra.style.opacity = 0.9;
      extra.style.width = `${width}px`;
      extra.style.height = `${height}px`;
      extra.textContent = 'Extra';

      let transform = '';

      switch (reference) {
        case 'front':
          transform = `translateZ(${d / 2 + offset}px)`;
          break;
        case 'back':
          transform = `rotateY(180deg) translateZ(${d / 2 + offset}px)`;
          break;
        case 'right':
          transform = `rotateY(90deg) translateZ(${w / 2 + offset}px)`;
          break;
        case 'left':
          transform = `rotateY(-90deg) translateZ(${w / 2 + offset}px)`;
          break;
        case 'top':
          transform = `rotateX(90deg) translateZ(${h / 2 + offset}px)`;
          break;
        case 'bottom':
          transform = `rotateX(-90deg) translateZ(${h / 2 + offset}px)`;
          break;
        default:
          console.warn('Referencia no válida');
          return;
      }

      extra.style.transform = transform;
      cube.appendChild(extra);
    }

    // Inicializar caja al cargar
    setSize('medium');

    // Movimiento de rotación con mouse
    document.addEventListener('mousedown', e => {
      isDragging = true;
      prevX = e.clientX;
      prevY = e.clientY;
    });

    document.addEventListener('mouseup', () => isDragging = false);

    document.addEventListener('mousemove', e => {
      if (!isDragging) return;
      const dx = e.clientX - prevX;
      const dy = e.clientY - prevY;
      prevX = e.clientX;
      prevY = e.clientY;
      rotY += dx * 0.4;
      rotX -= dy * 0.4;
      cube.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
    });
  </script>
</body>
</html>
